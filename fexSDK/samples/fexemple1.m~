%% Example file for fex-metrica
%
% FEXEXAMPLE1 -- example file for fex-metrica v1.0.1
%
%
% In order to run this script, you need to have installed fex-metrica using
% FEXINSTALL.m
%
%
% VERSION: 1.0.1 14-Jan-2015.

%% 1. Generate a Fexc object
%
% Fexc object is the main class used for the analysis, and can be generated
% in several ways. The easiest way is to use the ui option. The UI let you
% select:
% 
% 1. Video files;
% 2. Files with the facial expressions timeseries;
% 3. Outout directory.

fex_init;
fexobj = fexc('ui');

% Calling FEX_INIT adds fex-metrica to Matlab search path.
%
% If you have the movies, but not the files with facial expressions, the UI
% gives you the option to analyze the data. For this option to work, you
% need to have a local copy of the Facet SDK installed.


%% Spatial Processing 
%
% This section of the code is meant to get rid of outliers, and false
% positive -- that is, patches of pixels that are recognized as a face, but
% that do not containa  face. One conservative options is to do it in 2
% steps: using face-box position to exclude face* and using
% coregistration**.

fexobj.falsepositive('method','position','threshold',2);
fexobj.coregister('fp',true,'threshold',2);

% Note that when you call a method from a FEXC object which contain
% data from multiple videos, the method is applied to all videos, unless
% you use indices (e.g. fexobj(1).coregister).

%% Temporal processing
%
% These methods adjust the temporal properties of teh t






